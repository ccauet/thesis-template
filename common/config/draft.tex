%!TEX root = ../../main.tex

% to-do notes
% add \listoftodos after \begin{document} to activate
% add option 'disable' to remove all notes
\usepackage[colorinlistoftodos]{todonotes}  

% Blindtext
\usepackage{blindtext}

% Linenumbers
% add \linenumbers after \begin{document} to activate line numbering
\usepackage{lineno}

% fix to allow peaceful coexistence of line numbering and
% mathematical objects
% http://www.latex-community.org/forum/viewtopic.php?f=5&t=163
%
\newcommand*\patchAmsMathEnvironmentForLineno[1]{%
\expandafter\let\csname old#1\expandafter\endcsname\csname #1\endcsname
\expandafter\let\csname oldend#1\expandafter\endcsname\csname
end#1\endcsname
 \renewenvironment{#1}%
   {\linenomath\csname old#1\endcsname}%
   {\csname oldend#1\endcsname\endlinenomath}%
}
\newcommand*\patchBothAmsMathEnvironmentsForLineno[1]{%
  \patchAmsMathEnvironmentForLineno{#1}%
  \patchAmsMathEnvironmentForLineno{#1*}%
}
\AtBeginDocument{%
\patchBothAmsMathEnvironmentsForLineno{equation}%
\patchBothAmsMathEnvironmentsForLineno{align}%
\patchBothAmsMathEnvironmentsForLineno{flalign}%
\patchBothAmsMathEnvironmentsForLineno{alignat}%
\patchBothAmsMathEnvironmentsForLineno{gather}%
\patchBothAmsMathEnvironmentsForLineno{multline}%
}